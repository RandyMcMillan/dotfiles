name: makefile.yml

on:
  push:
    branches: [ "master", "main" , "**", "**/**" ]
  pull_request:
    branches: [ "master", "main" , "**", "**/**" ]

jobs:
  make:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
      with:
        fetch-depth: 0

    - name: make-commands
      run: |
          #sudo apt update && sudo apt upgrade -y
          sudo apt install --fix-missing  automake bash
          make autoconf
          ./configure
          make -f Makefile all

    - name: autogen.sh && configure
      run: |
          ./autogen.sh && ./configure
          make -f Makefile all
